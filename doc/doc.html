<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=iso-8859-2">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 1.1.2  (Linux)">
	<META NAME="CREATED" CONTENT="20050226;22485900">
	<META NAME="CHANGED" CONTENT="20050310;19594100">
	<STYLE>
	<!--
		@page { size: 21cm 29.7cm; margin: 2cm }
		P { margin-bottom: 0.21cm }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=6 STYLE="font-size: 22pt">TclMixer</FONT></FONT></P>
<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=4><I>SDL_mixer
bindings for Tcl.</I></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=4 STYLE="font-size: 16pt"><B>COMMANDS
INDEX</B></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-weight: medium"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>tclmixer::sound</B>
<I>fileName</I></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>tclmixer::music</B>
<I>fileName</I></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>tclmixer::free</B>
<I>soundOrMusicId</I></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><B><FONT FACE="Arial, sans-serif">tclmixer::play</FONT></B>
<FONT FACE="Arial, sans-serif">?<B>-loop</B> <I>times</I>? ?<B>-channel</B>
<I>number</I>? ?<B>-fadein</B> <I>time</I>? s<I>oundOrMusicId</I></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><FONT FACE="Arial, sans-serif"><B>tclmixer::stop</B>
<I>channelOr<B>MUSIC</B></I> ?<I>delay</I>?</FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><B><FONT FACE="Arial, sans-serif">tclmixer::volume</FONT></B>
<FONT FACE="Arial, sans-serif"><I>soundIdOr</I><B><I>MUSIC</I></B>
?<I>volume</I>?</FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>tclmixer::fadeOut</B>
<I>channelOr<B>MUSIC</B></I> <I>time</I></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>tclmixer::fading</B>
<I>channelOr<B>MUSIC</B></I></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>tclmixer::playing</B>
<I>channelOr<B>MUSIC</B></I></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>tclmixer::paused</B>
<I>channelOr<B>MUSIC</B></I></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><B>tclmixer::balance</B>
<I>channel leftVolume rightVolume</I></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><B>tclmixer::distance</B>
<I>channel distance</I></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><B>tclmixer::position</B>
<I>channel angle distance</I></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><B>tclmixer::playPosition</B>
<I>position</I></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><B>tclmixer::rewind</B></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><B>tclmixer::musicType</B>
?<I>musicId</I>?</FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>tclmixer::mixConfig</B>
<I>option value </I><SPAN STYLE="font-style: normal">?</SPAN><I>option
value </I><SPAN STYLE="font-style: normal">... ?</SPAN></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=4 STYLE="font-size: 16pt"><B>INTRODUCTION</B></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>TclMixer extension brings
SDL_mixer power into Tcl evirnoment. It allows to play multiple
sounds at the same time using built-in software mixer. It supports
following sound formats: WAV/RIFF, MP3, OGG, MID (midi), MOD
(including standart MOD modules, but also S3M, IT, XM). There are
basic effects implemented, which would be very useful, such as 3D
sound positioning, stereo balance, fading in/out and sound source
distance. All these goodies closed in well known, simple Tcl syntax.
To make this extension work, end-user has to got installed SDL (in
version 1.2.x) and SDL_mixer (in version 1.2.x).</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>Common (in this document)
syntax key-words are <B><I>MUSIC</I></B> and <B><I>SOUND</I></B>.
They means that word (string) 'MUSIC' or 'music' and 'SOUND' or
'sound' can be used as argument of command. For example you can
write:</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Courier, monospace"><FONT SIZE=3>puts [tclmixer::fading
0]</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>and you may also:</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Courier, monospace"><FONT SIZE=3>puts [tclmixer::fading
music]</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>but this will fail:</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Courier, monospace"><FONT SIZE=3>puts [tclmixer::fading
something]</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=4 STYLE="font-size: 16pt"><B>SOUNDS
VS. MUSICS</B></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>There are two kind of
objects:</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>SOUND</B></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>Sounds are loaded from
WAV / RIFF / MP3 / OGG files (only these are supported for sounds!)
and they are usually</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>short, like gun shot, or
something else. Sounds are loaded directly into memory, so they
should be small. TclMixer can play many of these objects at same
time.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>MUSIC</B></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>Musics are loaded from
any TclMixer supported formats (including <B>SOUND</B> formats and
MOD and MID). They aren't loaded into memory, but readed piece by
piece from hard disc (to allow using very big music files) while
playing. Only one <B>MUSIC</B> object can be played at time, but
while playing music, <B>SOUND</B> objects still can be played.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=4 STYLE="font-size: 16pt"><B>MIXER
CHANNELS</B></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>To mix <B>SOUND</B>
objects and play them simultaneously, TclMixer (SDL_mixer) uses
channels. You can play on each channel any <B>SOUND</B> object and if
you want to play many objects simultaneously, you have to play them
on different channels. At the begining TclMixer allocates 16
channels, which should be enough but if you want, you can change it
by command <B>tclmixer::setChanneld</B>, but if you allocate big
number of channels (very big), it may segfoult, becouse of out of
memory (just as SDL_mixer docs say).</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=4 STYLE="font-size: 16pt"><B>COMMANDS
DESCRIPTION</B></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>tclmixer::sound</B>
<I>fileName</I></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>Creates sound object and
returns its identifier. The identifier format is: <B>sound#N</B>
where N is first unused integer, starting from 0. Sound objects can
be played later with command <B>tclmixer::play</B>, but also
manipulated by other TclMixer commands.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>tclmixer::music</B>
<I>fileName</I></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>Creates music object and
returns its identifier. The identifier format is: <B>music#N</B>
where N is first unused integer, starting from 0. Music objects also
can be played later with command <B>tclmixer::play</B>, but also
manipulated by other TclMixer commands.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>tclmixer::free</B>
<I>soundOrMusicId</I></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>Deletes given object
(<B>SOUND</B> or <B>MUSIC</B>) and frees their memory. Returns empty
string.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>tclmixer::play</B>
?<B>-loop</B> <I>times</I>? ?<B>-channel</B> <I>number</I>? ?<B>-fadein</B>
<I>time</I>? s<I>oundOrMusicId</I></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>Starts playback of given
object. If <B>-loop</B> option is given, the object will be played as
many times, as given argument for <B>-loop</B>. NOTE: <I>times</I>
argument starts from -1, where -1 means to loop object forever (until
<B>tclmixer::stop</B> or Tcl exit), 0 means to play object once, 1
means to play object twice, etc. If <B>-channel</B> option will be
given, then object will be played on given channel <I>number</I>. You
may specify -1 as the channel number, to play on first unused channel
(which is equal to ommit <B>-channel</B> option). If <B>-fadein</B>
option is given, object will be played starting from silence and
going to normal volume in <I>time</I> miliseconds. Very small values
of <I>time</I> seems to make no effect (about 1-30ms). Returns
channel number, which object is played on.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><FONT FACE="Arial, sans-serif"><B>tclmixer::stop</B>
<I>channelOr<B>MUSIC</B></I> ?<I>delay</I>?</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>Stops playback on given
<I>channel</I> or music playback. <I>Delay</I> argument is ignored
for <B>MUSIC</B> objects, but for <B>SOUND</B> objects it tells
TclMixer to wait <I>delay</I> miliseconds befor stopping. Returns
empty string.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>tclmixer::volume</B>
<I>soundIdOr<B>MUSIC</B></I> ?<I>volume</I>?</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>Returns current volume of
<B>SOUND</B> object, channel, or music playback (integer, from 0 to
128). If <I>volume</I> argument is given, then TclMixer also sets new
volume to given value, but it's done AFTER current volume value has
been read.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>tclmixer::fadeOut</B>
<I>channelOr<B>MUSIC</B></I> <I>time</I></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>Applies fade out effect
to given <I>channel</I> or music playback. Fade out effect decreases
volume from normal value, to silence in <I>time</I> miliseconds.
Command returns number of channels that effect has been applied
(channel -1 will apply it to all channels) or empty string for <B>MUSIC</B>.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>tclmixer::fading</B>
<I>channelOr<B>MUSIC</B></I></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>Returns <B>in</B>, <B>out</B>,
or <B>no</B>, which means that <I>channel</I> or music playback is
already fading in, fading out, or it isn't fading.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>tclmixer::playing</B>
<I>channelOr<B>MUSIC</B></I></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>Returns 1 if <I>channel</I>
or music playback is already playing and 0 otherwise.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>tclmixer::paused</B>
<I>channelOr<B>MUSIC</B></I></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>Returns 1 if <I>channel</I>
or music playback is already paused and 0 otherwise.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><B>tclmixer::balance</B>
<I>channel leftVolume rightVolume</I></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif">Sets independent <I>channel</I> volume
values for left and right side. <I>Volume</I> values are integers
betwean 0 and 255. Returns empty string.</FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><B><FONT FACE="Arial, sans-serif">tclmixer::distance</FONT></B>
<I><FONT FACE="Arial, sans-serif">channel distance</FONT></I></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif">Sets sound source distance (kind of
volume) for <I>channel</I>. <I>Distance</I> is integer, from 0
(close/loud) to 255 (far/quiet). Returns empty string.</FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><B>tclmixer::position</B>
<I>channel angle distance</I></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif">This command is used to simple 3D
sound source positioning. It sets position of sound source for
<I>channel</I> at <I>angle</I> degrees and <I>distance</I> away.
<I>Angle</I> is integer value betwean 0 and 360, where:</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><B>0</B> is directly in front,</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><B>90</B> is on the right side,</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><B>180</B> is behind,</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><B>270</B> is on the left side.</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-weight: medium">
<FONT FACE="Arial, sans-serif"><I>Distance</I> argument has same
meaning and value as in <B>tclmixer::distance</B> command.</FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><B>tclmixer::playPosition</B>
<I>position</I></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif">Seeks music during playback (doesn't
work while paused/halted!). <I>Position</I> is double value. Works
only for OGG / MP3 / MOD formats and for each format it has another
meaning. Here's what SDL_mixer documentation says:</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif">For <B>MOD</B> it casts double into
integer and jumps to given pattern number in module.</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif">For <B>MP3</B> it jumps for given
number of seconds from current position.</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif">For <B>OGG</B> it jumps for given
number of seconds from begining of song.</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif">Returns empty string.</FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><B>tclmixer::rewind</B></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif">Sets music playback position to start.
It works even if playback is halted or paused. Returns empty string.</FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><B><FONT FACE="Arial, sans-serif">tclmixer::musicType</FONT></B>
<FONT FACE="Arial, sans-serif">?<I>musicId</I>?</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif">Returns type of music currently being
played, or given <I>music</I> object. Return values may be:</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><B>CMD</B> for external music player
(this one is unavailable in TclMixer, becouse Tcl can use external
player just using [exec])</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><B>WAV</B> for WAV/RIFF format.</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><B>MOD</B> for MOD, S3M, IT, XM module
formats.</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><B>MID</B> for midi file.</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><B>OGG</B> for OGG vorbis format.</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><B>MP3</B> for Mpeg Layer 3 format.</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><B>NONE</B> for no music currently
played and no <I>music</I> argument given.</FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal">
<FONT FACE="Arial, sans-serif"><B>UNKNOWN</B> for unknown format &ndash;
should never happens.</FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>tclmixer::mixConfig</B>
<I>option value </I>?<I>option value </I>... ?</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 2cm; margin-bottom: 0cm; font-style: normal">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>Sets configuration
values. There are four valid options to configure:</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>-channels</B></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 6cm; margin-bottom: 0cm; font-style: normal">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3><SPAN STYLE="font-weight: medium">Number
of channels to alocate.</SPAN></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>-sound</B></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 6cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>Defines procedure name to
be used as a callback when any sound playback has finished. The
procedure should take one argument &ndash; channel number, the
playback has finished on.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm; font-style: normal">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>-music</B></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 6cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>Defines procedure name to
be used as callback when music playback has finished. The procedure
should not take any arguments.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 4cm; margin-bottom: 0cm"><B><SPAN STYLE="font-style: normal"><FONT SIZE=3><FONT FACE="Arial, sans-serif">-reserve</FONT></FONT></SPAN></B></P>
<P ALIGN=LEFT STYLE="margin-left: 6cm; margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>Reserve given channels
number from being used when playing sounds when passing in -1 (or
ommiting <B>-channel</B><SPAN STYLE="font-weight: medium"> option</SPAN>)
as a channel number to <B>tclmixer::play</B> command.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=4 STYLE="font-size: 16pt"><B>CALLBACK
PROCEDURES</B></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>There is no other way to
determinate when sound/music playback has finished than using
callback procedures. These procedures are called each time, when
playback has finished.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>There are two different
callback procedures: for <B>SOUND</B> objects playback and for <B>MUSIC</B>
objects playback. The first one takes as argument number of channel,
which <B>SOUND</B> object was played on (it can be resolved from
<B>tclmixer::play</B> return value). The second one takes no
arguments.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=4 STYLE="font-size: 16pt"><B>EXAMPLES</B></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><SPAN STYLE="font-weight: medium"><SPAN STYLE="font-style: normal"><FONT SIZE=3><FONT FACE="Courier, monospace">package
require TclMixer 1.2</FONT></FONT></SPAN></SPAN></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Courier, monospace"><FONT SIZE=3>namespace import
tclmixer::*</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Courier, monospace"><FONT SIZE=3>proc soundCallback
{chan} {</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
    <FONT FACE="Courier, monospace"><FONT SIZE=3>puts &quot;Playback
finished at channel $chan&quot;</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Courier, monospace"><FONT SIZE=3>}</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Courier, monospace"><FONT SIZE=3>mixConfig -sound
soundCallback</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Courier, monospace"><FONT SIZE=3>set snd [sound
some_file.ogg]</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Courier, monospace"><FONT SIZE=3>button .b -text &quot;Play&quot;
-command &quot;play $snd&quot;</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Courier, monospace"><FONT SIZE=3>pack .b</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=RIGHT STYLE="margin-bottom: 0cm; font-style: normal; font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=3>Pawe³ Salawa &copy; 2005</FONT></FONT></P>
</BODY>
</HTML>